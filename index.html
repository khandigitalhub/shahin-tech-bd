<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shahin Tech BD</title>

<style>
body{
margin:0;
font-family:Arial;
background:#f4f4f4;
padding-bottom:90px;
}
header{
background:#111;
color:#fff;
padding:12px 15px;
text-align:center;
font-size:18px;
}
.products{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:10px;
padding:10px;
}
.card{
background:white;
border-radius:12px;
padding:10px;
box-shadow:0 4px 10px rgba(0,0,0,0.08);
}
.card img{
width:100%;
border-radius:8px;
}
.old-price{
text-decoration:line-through;
color:gray;
font-size:13px;
}
.new-price{
color:#e91e63;
font-weight:bold;
}
.buy-btn{
background:#000;
color:white;
text-align:center;
padding:7px;
border-radius:6px;
margin-top:6px;
display:block;
text-decoration:none;
}
.categories{
display:flex;
overflow-x:auto;
gap:10px;
padding:10px;
background:#fff;
}
.cat-btn{
padding:6px 12px;
background:#eee;
border-radius:20px;
white-space:nowrap;
cursor:pointer;
font-size:13px;
}
.cat-btn.active{
background:#ff3d00;
color:white;
}
</style>
</head>

<body>

<header>Shahin Tech BD</header>

<div class="categories" id="categoryBar"></div>

<div class="products" id="products"></div>

<script>

const API="https://script.google.com/macros/s/AKfycbzOkxgutucJ1fsLTLCHAOjCD3UqzoiYNJKmM1UM32aQZqgy1HZOqlSQvixPu2IZaJv3/exec";

let allProducts=[];

fetch(API)
.then(res=>res.json())
.then(data=>{
allProducts=data.filter(p=>p.status==="show");
loadCategories();
displayProducts(allProducts);
});

function loadCategories(){
const categories=[...new Set(allProducts.map(p=>p.category))];
let html=`<div class="cat-btn active" onclick="showAll(this)">All</div>`;
categories.forEach(cat=>{
html+=`<div class="cat-btn" onclick="filterCategory('${cat}',this)">${cat}</div>`;
});
document.getElementById("categoryBar").innerHTML=html;
}

function showAll(el){
document.querySelectorAll(".cat-btn").forEach(b=>b.classList.remove("active"));
el.classList.add("active");
displayProducts(allProducts);
}

function filterCategory(cat,el){
document.querySelectorAll(".cat-btn").forEach(b=>b.classList.remove("active"));
el.classList.add("active");
displayProducts(allProducts.filter(p=>p.category===cat));
}

function displayProducts(list){
let container=document.getElementById("products");
container.innerHTML="";
list.forEach(p=>{
container.innerHTML+=`
<div class="card">
<img src="${p.image}">
<h4>${p.name}</h4>
<div class="old-price">৳${p.oldprice}</div>
<div class="new-price">৳${p.price}</div>
<a href="product.html?id=${p.id}" class="buy-btn">Buy Now</a>
</div>`;
});
}

</script>

</body>
</html>
